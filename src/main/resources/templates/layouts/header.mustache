<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->  
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>MATZIP찾기</title>

    <!-- 구글 폰트 api -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300&display=swap" rel="stylesheet">

    <!-- 네이버 지도 api -->
    <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpClientId="></script>
    
    <!-- 아이콘 api -->
    <script src="https://use.fontawesome.com/releases/v6.4.2/js/all.js"></script>
    
    <!-- Costom CSS -->
    <style>
        * {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .btn-outline-success {
            min-width: 100px;
            color: #6c757d;
            border-color: #6c757d;
        }
        .btn-outline-success:hover {
            background-color: #000000;
            border-color: #000000;
            color: white;
        }
        .btn-outline-success.logout-button {
            min-width: 100px;
            border-color: #000000;
            background-color: #000000;
        }
        .no-underline {
            text-decoration: none;
        }
        .bold-text {
            font-weight: bold;
        }
        .intro-logo-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            text-align: center;
        }
        .intro-logo-container p {
            margin: 5px 0;
            font-size: 22px;
        }
        .intro-logo-container img {
            margin-top: 10px;
        }
        table.table th, table.table td {
            border: none;
        }
        table.table th {
            border-top: 2px solid #dee2e6;
        }
    </style>
</head>
<body>
<!-- navigation -->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
        <a class="navbar-brand" href="/stores">
            <a class="navbar-brand" href="/stores">
                <img src="/img/matzip.png" alt="Home" width="180" height="50">
            </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0"> 
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        지도에서 보기
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" href="/stores/map/미쉐린">미쉐린 가이드</a></li>
                        <li><a class="dropdown-item" href="/stores/map/블루리본">블루리본 서베이</a></li>
                        <li><a class="dropdown-item" href="/stores/map/전체">전체</a></li>
                    </ul>
                </li>
            </ul>
            <form class="d-flex">
                <input id="searchInput" class="form-control me-2" type="search" placeholder="검색어를 입력하세요" aria-label="Search">
                <button class="btn btn-outline-success" type="submit" onclick="performSearch()" style="margin-right: 10px;">검색</button>
                {{#isAdminValueZero}}
                <button class="btn btn-outline-success"><a href="/members">회원관리</a></button>
                {{/isAdminValueZero}}
                <button class="btn btn-outline-success logout-button"><a href="/logout" style="color: #FFFFFF; text-decoration: none">로그아웃</a></button>
            </form>
            <script>
                function performSearch() {
                    const searchTerm = document.getElementById('searchInput').value;
                    
                    const newURL = '/stores/' + searchTerm;
                
                    history.pushState({ path: newURL }, '', newURL);
                
                    updateSearchResults(searchTerm);
                }
            </script>
        </div>
        
    </div>
</nav>

{{#msg}}
<div class="alert alert-primary alert-dismissible">
    {{msg}}
    <button type="button" class="btn-close" data-bs-dismiss="alert"
            aria-label="Close"></button>
</div>
{{/msg}}
